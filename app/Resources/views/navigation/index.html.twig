{% extends 'base.html.twig' %}

{% block links %}
    <li class="nav-item">
        <a class="nav-link" href="#tm-main-section"><i class="fa fa-caret-square-o-right" aria-hidden="true"></i> Blog</a>
    </li>
{% endblock %}


{% block externalinks %}
    <li class="nav-item">
        <a class="nav-link external" href="{{ path('gallery') }}"><i class="fa fa-paint-brush" aria-hidden="true"></i> Gallery</a>
    </li>
    <li class="nav-item">
        <a class="nav-link external" href="{{ path('contact') }}"><i class="fa fa-pencil" aria-hidden="true"></i> Contact</a>
    </li>
{% endblock %}

{% block admin %}
    <li class="nav-item">
        <a class="nav-link external" href="{{ path('article_new') }}"><i class="fa fa-sticky-note-o" aria-hidden="true"></i> Créer un article</a>
    </li>
{% endblock %}



{% block body %}
    <div class="row">
        <div class="tm-intro">
            <section>                        
                <div class="tm-container text-xs-center tm-section-1-inner">
                    <img src="{{ asset('bundles/app/img/tm-lumino-logo.png') }}" alt="Logo" class="tm-logo">
                    <h1 class="tm-site-name">Lumino</h1>
                    <p class="tm-intro-text">Free Bootstrap 4.0 Website Template</p>
                    {# we display flash message wich name is « notice » #}
                    {% for message in app.session.flashbag.get('notice') %}
                        <p> {{ message }}</p>
                    {% endfor %}
                    <a href="#tm-main-section" class="tm-intro-link">Begin</a>    
                </div>                                               
            </section>
        </div>
    </div>

    <div class="row gray-bg">  

        <div id="tm-main-section" class="tm-section">
            <div class="tm-container tm-container-wide">

            {% if articlelist is empty %}
                <p class="msg-flash"> Il n y a pas encore de contenu </p>
            {% else %}
                {% for article in articlelist %}
                    <div class="tm-news-item">
                         
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 {% if loop.index0 % 2 %}flex-order-2{% endif %} tm-news-item-img-container">
                            <img src="{{ asset('bundles/app/img/tm-600x300-02.jpg') }}" alt="Image" class="img-fluid tm-news-item-img">
                        </div>
                        
                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 tm-news-container flex-order-1">
                            <h2 class="tm-news-title dark-gray-text">{{ article.title|upper }}</h2>
                            <p class="tm-news-text">{{ article.subtitle }}</p>
                            <a href="{{ path('article', {'id':article.id}) }}" class="btn tm-light-blue-bordered-btn tm-news-link">Voir l'article</a>
                        </div>
                    </div>
                {% endfor %}
            {% endif %}

            </div>    
        </div>

    </div> <!-- row -->
{% endblock %}
